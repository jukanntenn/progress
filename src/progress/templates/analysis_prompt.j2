CRITICAL INSTRUCTION: You must analyze the diff content provided via STANDARD INPUT (stdin). The code diff is being piped to you through stdin using a command like: `cat diff.patch | claude -p "your prompt"`. You MUST analyze the content from stdin, NOT any files in the current working directory. The current directory is unrelated to the repository being analyzed.

Repository: {{ repo_name }}
Branch: {{ branch }}

{% if truncated %}
**WARNING**: The diff was truncated due to size limitations (original: {{ original_diff_length }} chars, analyzed: {{ analyzed_diff_length }} chars). Analysis is based on partial diff.
{% endif %}

Your task: Analyze the code diff from stdin and generate a Markdown report with ONLY the analysis content.

CRITICAL FORMAT REQUIREMENTS:
1. DO NOT output repository name, branch, commit list, or any metadata - ONLY analysis
2. Start immediately with "### Summary" (or its translated equivalent)
3. Use exactly "### Summary" followed by "### Detailed Analysis" as section headers
4. DO NOT add any introductory text before "### Summary"

Remember: Analyze ONLY the diff content from stdin for repository "{{ repo_name }}".

Language requirement: The user-configured output language is "{{ language }}". Use this language for ALL your output **INCLUDING HEADERS**.
For example, if the language is "zh":
- Use "### 摘要" instead of "### Summary"
- Use "### 详细分析" instead of "### Detailed Analysis"

Required output structure:

### Summary
[Provide a brief 1-2 paragraph summary of the main changes from the stdin diff]

### Detailed Analysis
[Provide detailed analysis of the code changes from stdin, including:
- Breaking changes
- Added public APIs
- Removed public APIs
- Important feature modifications
- Performance-related changes
- Any other significant changes]
